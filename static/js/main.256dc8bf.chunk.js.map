{"version":3,"sources":["components/AudioVisualizer.js","views/Calculator.js","views/RpsTester.js","App.js","index.js"],"names":["currentValue","buffer","Title","Typography","App","_this","Object","classCallCheck","this","_super","call","formRef","React","createRef","state","calVelocity","calPower","_this2","react_default","a","createElement","Fragment","className","level","es_form","assign","labelCol","span","wrapperCol","ref","validateMessages","types","number","onValuesChange","val","allVal","diameter","projectileWeight","velocity","setState","Math","PI","Item","label","name","rules","type","input_number","step","style","textAlign","es_button","onClick","current","resetFields","icon","ReloadOutlined","Component","cursor","BUF_SIZE","canvasRef","bell","WaveBell","Array","fill","start","on","onWaveChange","canvasCtx","getContext","animate","stop","ctx","save","clearRect","fillStyle","fillRect","strokeStyle","i","h","x","beginPath","moveTo","lineTo","stroke","restore","requestAnimationFrame","updateBuffer","drawFrame","e","value","width","height","AudioVisualizer_App","TabPane","Tabs","tabs","defaultActiveKey","tab","key","Calculator_App","RpsTester_App","rootElement","document","getElementById","ReactDOM","render","StrictMode","App_App"],"mappings":"uLAGIA,EACAC,gJCAIC,EAAUC,IAAVD,MAEaE,oDAGnB,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAI,EAAAC,KAAAF,OAHFG,QAAUC,IAAMC,YAKdR,EAAKS,MAAQ,CACXC,YAAa,GACbC,SAAU,IALAX,uDASL,IAAAY,EAAAT,KAiCP,OACEU,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAClB,EAAD,CAAOoB,UAAU,QAAQC,MAAO,IAIhCL,EAAAC,EAAAC,cAACI,EAAA,EAADlB,OAAAmB,OAAA,GAtCW,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAoClB,CAEEE,IAAKrB,KAAKG,QACVW,UAAU,WACVQ,iBArCmB,CACvBC,MAAO,CACLC,OAAQ,qDAoCNC,eAhCc,SAACC,EAAKC,GAAW,IAC3BC,EAAyCD,EAAzCC,SAAUC,EAA+BF,EAA/BE,iBAAkBC,EAAaH,EAAbG,SAE9BvB,EACGsB,EAAmB,IAA1B,IAAmCC,EAAWA,GAEhDrB,EAAKsB,SAAS,CACZxB,cACAC,SACED,GAAgBqB,EAAW,EAAI,IAAOA,EAAW,EAAI,IAAMI,KAAKC,SAyBhEvB,EAAAC,EAAAC,cAACI,EAAA,EAAKkB,KAAN,CACEC,MAAM,mBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,KAAM,YAEhB5B,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAaC,KAAM,MAGrB9B,EAAAC,EAAAC,cAACI,EAAA,EAAKkB,KAAN,CACEC,MAAM,kBACNC,KAAK,mBACLC,MAAO,CAAC,CAAEC,KAAM,YAEhB5B,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAaC,KAAM,MAGrB9B,EAAAC,EAAAC,cAACI,EAAA,EAAKkB,KAAN,CACEC,MAAM,oBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,KAAM,YAEhB5B,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAaC,KAAM,MAGrB9B,EAAAC,EAAAC,cAACI,EAAA,EAAKkB,KAAN,CAAWC,MAAM,yBAAUnC,KAAKM,MAAMC,aAEtCG,EAAAC,EAAAC,cAACI,EAAA,EAAKkB,KAAN,CAAWC,MAAM,gCAAcnC,KAAKM,MAAME,WAG5CE,EAAAC,EAAAC,cAAA,OAAK6B,MAAO,CAAEC,UAAW,WACvBhC,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAQL,KAAK,UAAUM,QAnDX,WAChBnC,EAAKN,QAAQ0C,QAAQC,cACrBrC,EAAKsB,SAAS,CACZxB,YAAa,GACbC,SAAU,MA+CmCuC,KAAMrC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,OAAjD,yBAxFuB5C,IAAM6C,oBDDnCC,EAAS,EACPC,EAAW,IAEIvD,oDAMjB,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACVC,EAAAI,EAAAC,KAAAF,OANJoD,UAAYhD,IAAMC,YAKJR,EAFdwD,KAAO,IAAIC,IAKP7D,EAAS,IAAI8D,MAAMJ,GAAUK,KAAK,GAClChE,EAAe,EACfK,EAAKwD,KAAKI,MAAM,IAEhB5D,EAAKwD,KAAKK,GAAG,OAAQ7D,EAAK8D,cAPhB9D,kEAWVG,KAAK4D,UAAY5D,KAAKoD,UAAUP,QAAQgB,WAAW,MACnD7D,KAAK8D,yDAIL9D,KAAKqD,MAAQrD,KAAKqD,KAAKU,MAAQ/D,KAAKqD,KAAKU,8CAKzCtE,EAAOyD,IAAWC,GAAY3D,sCAGtB,IACWwE,EAAQhE,KAAnB4D,UACRI,EAAIC,OAEJD,EAAIE,UAAU,EAAG,EAAG,IAAK,KACzBF,EAAIG,UAAY,OAChBH,EAAII,SAAS,EAAG,EAAG,IAAK,KAExBJ,EAAIK,YAAc,OAClB,IAAK,IAAIC,EAAI,EAAGA,EAAInB,EAAUmB,IAAK,CAC/B,IAAIC,EAAI,IAAM9E,GAAQyD,EAASoB,GAAKnB,GAChCqB,EAAIF,EACRN,EAAIS,YACJT,EAAIU,OAAOF,EAAG,KAAO,GAAMD,GAC3BP,EAAIW,OAAOH,EAAG,KAAO,GAAMD,GAC3BP,EAAIY,SAGRZ,EAAIS,YACJT,EAAIU,OAAO,EAAG,MACdV,EAAIW,OAAO,IAAK,MAChBX,EAAIK,YAAc,OAClBL,EAAIY,SACJZ,EAAIa,4CAGE,IAAApE,EAAAT,KACN8E,sBAAsB,WAClBrE,EAAKqD,YAGT9D,KAAK+E,eAIL/E,KAAKgF,iDAGIC,GAGTzF,EAAeyF,EAAEC,uCAIjB,OACIxE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACXJ,EAAAC,EAAAC,cAAA,UAAQS,IAAKrB,KAAKoD,UAAWtC,UAAU,oBAAoBqE,MAAM,MAAMC,OAAO,gBA7E7DhF,IAAM6C,WELlBrD,yKAMb,OACIc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACIH,EAAAC,EAAAC,cAACyE,EAAD,cARiBjF,IAAM6C,WCQ/BqC,EAAYC,IAAZD,QAEa1F,oDACjB,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACVC,EAAAI,EAAAC,KAAAF,OAEKM,MAAQ,GAHHT,uDAOV,OACIa,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACXJ,EAAAC,EAAAC,cAAC4E,EAAA,EAAD,CAAMC,iBAAiB,KACnB/E,EAAAC,EAAAC,cAAC0E,EAAD,CAASI,IAAI,MAAMC,IAAI,KACnBjF,EAAAC,EAAAC,cAACgF,EAAD,OAEJlF,EAAAC,EAAAC,cAAC0E,EAAD,CAASI,IAAI,MAAMC,IAAI,KACnBjF,EAAAC,EAAAC,cAACiF,EAAD,gBAfSzF,IAAM6C,WCRjC6C,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACPxF,EAAAC,EAAAC,cAACF,EAAAC,EAAMwF,WAAP,KACEzF,EAAAC,EAAAC,cAACwF,EAAD,OAEFN","file":"static/js/main.256dc8bf.chunk.js","sourcesContent":["import React from 'react';\r\nimport WaveBell from 'wavebell';\r\n\r\nlet currentValue;\r\nlet buffer;\r\nlet cursor = 0;\r\nconst BUF_SIZE = 500;\r\n\r\nexport default class App extends React.Component {\r\n    canvasRef = React.createRef();\r\n    canvasCtx;\r\n\r\n    bell = new WaveBell();\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        buffer = new Array(BUF_SIZE).fill(0);\r\n        currentValue = 0;\r\n        this.bell.start(1000 / 25);\r\n\r\n        this.bell.on('wave', this.onWaveChange);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.canvasCtx = this.canvasRef.current.getContext('2d');\r\n        this.animate();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.bell && this.bell.stop && this.bell.stop();\r\n    }\r\n\r\n    updateBuffer() {\r\n        // loop update buffered data\r\n        buffer[cursor++ % BUF_SIZE] = currentValue;\r\n    }\r\n\r\n    drawFrame() {\r\n        const { canvasCtx: ctx } = this;\r\n        ctx.save();\r\n        // empty canvas\r\n        ctx.clearRect(0, 0, 500, 150);\r\n        ctx.fillStyle = '#ddd';\r\n        ctx.fillRect(0, 0, 500, 150);\r\n        // draw audio waveform\r\n        ctx.strokeStyle = '#6c4';\r\n        for (var i = 0; i < BUF_SIZE; i++) {\r\n            var h = 250 * buffer[(cursor + i) % BUF_SIZE];\r\n            var x = i;\r\n            ctx.beginPath();\r\n            ctx.moveTo(x, 75.5 - 0.5 * h);\r\n            ctx.lineTo(x, 75.5 + 0.5 * h);\r\n            ctx.stroke();\r\n        }\r\n        // draw middle line\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, 75.5);\r\n        ctx.lineTo(500, 75.5);\r\n        ctx.strokeStyle = '#000';\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    animate() {\r\n        requestAnimationFrame(() => {\r\n            this.animate();\r\n        });\r\n        // update wave data\r\n        this.updateBuffer();\r\n        // console.log(currentValue);\r\n\r\n        // draw next frame\r\n        this.drawFrame();\r\n    }\r\n\r\n    onWaveChange(e) {\r\n        // update current wave value\r\n\r\n        currentValue = e.value;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"audio-visualizer\">\r\n                <canvas ref={this.canvasRef} className=\"visualizer-canvas\" width=\"500\" height=\"150\"></canvas>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Form, InputNumber, Typography, Button } from \"antd\";\r\nimport { ReloadOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default class App extends React.Component {\r\n  formRef = React.createRef();\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      calVelocity: \"\",\r\n      calPower: \"\"\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 12 }\r\n    };\r\n\r\n    const validateMessages = {\r\n      types: {\r\n        number: \"请输入合法的数字\"\r\n      }\r\n    };\r\n\r\n    const valueChange = (val, allVal) => {\r\n      const { diameter, projectileWeight, velocity } = allVal;\r\n\r\n      const calVelocity =\r\n        0.5 * (projectileWeight / 1000) * (velocity * velocity);\r\n\r\n      this.setState({\r\n        calVelocity,\r\n        calPower:\r\n          calVelocity / ((diameter / 2 / 10) * (diameter / 2 / 10) * Math.PI)\r\n      });\r\n    };\r\n\r\n    const resetForm = () => {\r\n      this.formRef.current.resetFields();\r\n      this.setState({\r\n        calVelocity: \"\",\r\n        calPower: \"\"\r\n      });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Title className=\"title\" level={3}>\r\n          {/* 动能计算器by Double-Bird */}\r\n        </Title>\r\n\r\n        <Form\r\n          {...layout}\r\n          ref={this.formRef}\r\n          className=\"cal-form\"\r\n          validateMessages={validateMessages}\r\n          onValuesChange={valueChange}\r\n        >\r\n          <Form.Item\r\n            label=\"弹径(mm)\"\r\n            name=\"diameter\"\r\n            rules={[{ type: \"number\" }]}\r\n          >\r\n            <InputNumber step={0.1} />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"弹重(g)\"\r\n            name=\"projectileWeight\"\r\n            rules={[{ type: \"number\" }]}\r\n          >\r\n            <InputNumber step={0.1} />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"初速(m/s)\"\r\n            name=\"velocity\"\r\n            rules={[{ type: \"number\" }]}\r\n          >\r\n            <InputNumber step={0.1} />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"焦耳数(J)\">{this.state.calVelocity}</Form.Item>\r\n\r\n          <Form.Item label=\"动能比(J/cm²)\">{this.state.calPower}</Form.Item>\r\n        </Form>\r\n\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Button type=\"primary\" onClick={resetForm} icon={<ReloadOutlined />}>\r\n            清空\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport AudioVisualizer from '../components/AudioVisualizer';\r\n\r\nexport default class App extends React.Component {\r\n    // constructor() {\r\n    //     super();\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <AudioVisualizer />\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport './reset.css';\nimport './app.css';\nimport 'antd/dist/antd.css';\n\nimport { Tabs } from 'antd';\n\n// import view\nimport Calculator from './views/Calculator';\nimport RpsTester from './views/RpsTester';\n\nconst { TabPane } = Tabs;\n\nexport default class App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {};\n    }\n\n    render() {\n        return (\n            <div className=\"app\">\n                <Tabs defaultActiveKey=\"2\">\n                    <TabPane tab=\"111\" key=\"1\">\n                        <Calculator />\n                    </TabPane>\n                    <TabPane tab=\"222\" key=\"2\">\n                        <RpsTester />\n                    </TabPane>\n                </Tabs>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}